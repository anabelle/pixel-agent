# Knowledge Plugin defaults
# Uncomment to auto-load documents from ./docs on startup
# LOAD_DOCS_ON_STARTUP=true
# Set a custom knowledge path (defaults vary by setup). Point to docs/knowledge here.
# KNOWLEDGE_PATH=./docs/knowledge

# Enhanced contextual knowledge (optional for better accuracy and lower cost with caching)
# CTX_KNOWLEDGE_ENABLED=true
# TEXT_PROVIDER=openrouter
# TEXT_MODEL=anthropic/claude-3.5-sonnet
# OPENROUTER_API_KEY=your-openrouter-api-key

# Existing provider keys (if you use them)
# OPENAI_API_KEY=
# GOOGLE_GENERATIVE_AI_API_KEY=
# TELEGRAM_BOT_TOKEN=
# DISCORD_API_TOKEN=

# Nostr Configuration
# NOSTR_PRIVATE_KEY=nsec1...
# NOSTR_PUBLIC_KEY=npub1...
# NOSTR_RELAYS=wss://relay.damus.io,wss://nos.lol,wss://relay.snort.social
# NOSTR_POST_ENABLE=true
# NOSTR_REPLY_ENABLE=true
# NOSTR_DISCOVERY_ENABLE=true
# NOSTR_MAX_WS_LISTENERS=64

# Quality-first discovery settings (improves interaction frequency)
# NOSTR_DISCOVERY_MIN_QUALITY_INTERACTIONS=1      # Minimum quality interactions required per run
# NOSTR_DISCOVERY_MAX_SEARCH_ROUNDS=3             # Maximum search rounds to attempt
# NOSTR_DISCOVERY_STARTING_THRESHOLD=0.6          # Initial quality threshold (0.0-1.0)
# NOSTR_DISCOVERY_THRESHOLD_DECREMENT=0.05        # How much to lower threshold per reply
# NOSTR_DISCOVERY_QUALITY_STRICTNESS=normal       # normal, strict, or relaxed

# Automatic unfollow settings (maintains feed quality)
# NOSTR_UNFOLLOW_ENABLE=true                      # Enable automatic unfollowing of low-quality users
# NOSTR_UNFOLLOW_MIN_QUALITY_SCORE=0.3            # Minimum quality score (0.0-1.0) before unfollowing
# NOSTR_UNFOLLOW_MIN_POSTS_THRESHOLD=5            # Minimum posts before considering unfollow
# NOSTR_UNFOLLOW_CHECK_INTERVAL_HOURS=24          # Hours between unfollow checks (1-168)
# NOSTR_UNFOLLOW_ADD_TO_MUTE=true                 # Add unfollowed users to mute list to prevent rediscovery

# Content freshness decay (down-weights recently covered topics)
# NOSTR_FRESHNESS_DECAY_ENABLE=true               # Enable freshness decay penalty (default: true)
# NOSTR_FRESHNESS_LOOKBACK_HOURS=24               # Hours to look back for topic mentions (default: 24)
# NOSTR_FRESHNESS_LOOKBACK_DIGESTS=3              # Number of recent digests to check tags (default: 3)
# NOSTR_FRESHNESS_MENTIONS_FULL_INTENSITY=5       # Mentions needed for full intensity penalty (default: 5)
# NOSTR_FRESHNESS_MAX_PENALTY=0.4                 # Maximum penalty factor 0-1 (default: 0.4 = 40%)
# NOSTR_FRESHNESS_SIMILARITY_BUMP=0.05            # Extra penalty if topic in recent tags (default: 0.05)
# NOSTR_FRESHNESS_NOVELTY_REDUCTION=0.5           # Penalty reduction for novel angles (default: 0.5 = 50%)

# -------------------------------
# Topic Analysis & Narrative Tuning
# -------------------------------
# Per-post LLM bounds (topic/sentiment helpers)
# CONTEXT_LLM_SENTIMENT_MAXLEN=1000    # Max chars for sentiment prompts
# CONTEXT_LLM_TOPIC_MAXLEN=1000        # Max chars for topic prompts

# Narrative summarization bounds
# LLM_NARRATIVE_SAMPLE_SIZE=800        # Max events sampled/iterated when building narratives
# LLM_NARRATIVE_MAX_CONTENT=30000      # Max total characters packed into narrative prompts

# Hourly sliding-window size
# LLM_HOURLY_POOL_SIZE=200             # Number of most-recent events considered for hourly narrative

# Emerging topic detection thresholds
# CONTEXT_EMERGING_STORY_MIN_USERS=3              # Minimum unique users before tracking an emerging topic
# CONTEXT_EMERGING_STORY_MENTION_THRESHOLD=5      # Minimum mentions before we log a new story once

# Topic context injection guardrails
# CONTEXT_EMERGING_STORY_CONTEXT_MIN_USERS=5      # Require this many unique users before injecting context
# CONTEXT_EMERGING_STORY_CONTEXT_MIN_MENTIONS=10  # Require this many mentions before including in prompts
# CONTEXT_EMERGING_STORY_CONTEXT_LIMIT=20         # Maximum number of topics injected into context blocks
# CONTEXT_EMERGING_STORY_CONTEXT_RECENT_EVENTS=5  # Recent events to include per topic when sharing context
